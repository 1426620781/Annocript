                                        |------------------------------------|
                                        |   FAQ Frequently Asked Questions   |
                                        |------------------------------------|

   
----------------------------
Question: I received this error during the PORTRAIT installation:
        “FATAL :: Unkwnown error in CAST program. If possible, please try installing PORTRAIT in another machine. 
        CAST dump...”

Answer: CAST is written in ANSI C, so it needs libraries and a compiler that can happen are not installed in your system.

Missing library. Install via terminal: sudo apt-get install g++
        Missing compiler ANSI C. Install via terminal: sudo apt-get install tcc:i386
----------------------------


----------------------------
Question: I received this error during the PORTRAIT installation:
        “FATAL :: Unkwnown error in ANGLE program. If possible, please try installing PORTRAIT in another machine. “

Answer: It is a missing library that you can install via terminal: sudo apt-get install libstdc++5

If you don't used the version of Portrait included in Annocript you have to convert their file to Unix format. Go to
terminal and type:

apt-get install dos2unix
then
dos2unix portrait-1.1.pl
----------------------------


----------------------------
Question: I received this error in the log file:
Thu Nov 28 12:32:37 2013: Running DNA2PEP...
sh: 1: /home/shady/bioinfo/dna2pep-1.1/dna2pep.py: not found
ERROR: an error occurred while running /home/shady/bioinfo/dna2pep-1.1/dna2pep.py: 32512 at 
PROGRAMS_EXEC/execute_programs.pm line 864.

Answer: If Annocript didn't find dna2pep it can means or that it is not really there or that you don't has the correct 
permissions to access it. So control if the path in the config_user is correct and, if it is, change the permissions
of dna2pep.py:
chmod 755 dna2pep.py.

It can be possible that the Python interpreter is not present. You should install it and write in the dna2pep.py file
the correct path in the first line. You should open the dna2pep.py in the dna2pep folder and in the first line change 
that path with the path where you have python. Usually it is /usr/bin/python.
If you already installed maybe that path only is not correct.
----------------------------


----------------------------
Question: Long time is taken for the downloading and/or uncompression of big compressed files. What can I do?

Answer:  Depending on your system memory and processors Annocript could have any difficulties in downloading and 
uncompressing big dimensions files. This is the reason why we suggest to run it only on powerful machines. Anyway you 
can overcome this problem by seeing what is the file that is causing the problem and downloading it and uncompressing 
it with system commands and put the resulting uncompressed files inside the ann_works/data/YEAR_MONTH folder created by 
Annocript for the database. Then you just have to run again it as before. Annocript will check if the file has been 
already downloaded or uncompressed and will not repeat the operation.

To do this:
  - download the file you think is giving problems;
  - start the DB creation execution;
  - stop Annocript when it is just gone in background (it will create the folder for the data);
  - pick the version file (i.e uniref90.release_note) from the folder of the database you were just installing and put
    it in the data folder;
  - put in the db version file the ZIP files you previously downloaded;
  - run again the DB creation of Annocript.
----------------------------


----------------------------
Question: The library libstdc++5 is missing in Angle! What can I do?

Answer: fill the gap by installing it via terminal: sudo apt-get install libstdc++5
----------------------------


----------------------------
Question: The library tcc:i386 is missing in Cast! What can I do?

Answer: fill the gap by installing it via terminal: sudo apt-get install tcc:i386
----------------------------


----------------------------
Question: I had the following error:
      ERROR [256]: an error occurred while extracting headers with fgrep from /home/francesco/ann_works/data/2014_01/uniref90.fasta to /home/francesco/ann_works
/data/2014_01/db_headers.txt. What does it means?

Answer: it could be that you ran once Annocript and it stopped on the download or uncompression of some file. 
Then you ran it again and it is blocked unexpectedly. You should remove completely the folder 2014_01 with the data
from the ann_works/data folder. Then run it again...
----------------------------

----------------------------
Question: I received this error message: "Creating a file with all the headers in /home/francesco/ann_works/data/2014_03/db_headers.txt (it makes the db construction faster but it will need a while)...ERROR [-
1]: an error occurred while extracting headers with fgrep from /home/francesco/ann_works/data/2014_03/uniprot_sprot.fasta to /home/francesco/ann_works/data/2014_03/db_
headers.txt: ? at DB_CREATION/db_creator.pm line 668"

Answer: With older machine but also unpredictably, it can happen that a system command does not run well with big dimensions
files. Annocript is programmed to try more than once the commands but if it blocks is preferrable that you manually start it again.
----------------------------

----------------------------
Question: I had the following error:
DBD::mysql::db commit failed: MySQL server has gone away at DB_CREATION/db_creator.pm line xxx,
<UNIGOFILE> line 52159208.
...and Annocript stopped.

Answer: This error happen when the MySQL server itself stops the execution. We studied that this happened for us when the
uncompression procedure (during DB_CREATION) are not working and taking a very long time. To solve you need to restart Annocript
but first is very important that you see the log file and check if in the point of forced stop there are some failed process
(like uncompression). If everything is good then you should only restart again Annocript included the database creation.
To do this please only shift the file of uniref/uniprot_kb (depending on what you are creating) version from the current
'year_month' folder to the 'data' folder. Then restart Annocript using the same session.
----------------------------


----------------------------
Question: Annocript suddenly stopped while it was uncompressing a file, giving the error "Out of memory!"

Answer: Try to download the file manually by going in the directory ann_works/data/YEAR_MONTH/ and using the 
following code:
    tar -zxvf yourfile.tar.gz if it is a ".tar.gx" file or 
    gunzip file.gz if it is a ".zip" or ".gz" file
    Then, start Annocript again. It will find the uncompressed file and will not do the operation automatically.
----------------------------


----------------------------
Question: I cannot find anymore my fasta in the annocript working directory (e.g. ann_works)! What is happened to my transcriptome?

Answer: Be aware that if you erase the working folder, also you transcriptome will be removed. We strongly suggest to always keep a copy of the transcriptome in some other folder.
----------------------------


----------------------------
Question: I received this error: "Fetch failed! HTTP response: 500 Internal Server Error [500 LWP::Protocol::MyFTP: connect: Connection timed out] at USEFUL/utilities.pm line 886"
during the download of files. Is there a problem?

Answer: No problems if the file has been  finally downloaded. Annocript does more than one trial to download the  files and if it does not succeed, will give an error and blocks completely the execution.
----------------------------


----------------------------
Question:  I received this error:
Please check if [ftp://ftp.uniprot.org/pub/databases/uniprot/current_release/knowledgebase/idmapping/idmapping_selected.tab.gz] is a correct URL. Annocript will continue...
The links above seems to not work. You should check them in a browser and if (1) you are sure they work or (2) you never modified this links in the configuration file, then there is something in your connection that is not working. In this last case since Annocript uses more than one technique to download the files you can leave it running. Continue? (y or n)

Answer: This error comes when a problem with sending the request from PERL function is occurred. Annocript uses different PERL functions to download the files so you should check if this links are good an proceed with the running. If the connection is not working well Annocript will stop during the download of files.
----------------------------

----------------------------
Question: When I was choosing the session to use, Annocript wrote this:
"Session astropecten2 is not valid. Do you want to remove it?(y or n) n". What happened?

Answer: Annocript controls everytime if the session you want to use is valid. The check consists in looking if all the folders constituting a valid session are present. They are: log, stats, data, output, gff. If something is missing Annocript will stop.
----------------------------
